# TIL Template

## λ‚ μ§: 2024-07-21

## Daily Scrum
- spring κΈ°λ³ΈνΈ
- μ΄μ½”λ‚­μ² μ•„μ΄λ””μ–΄νμ

## Today I Learned
### Spring
### Java Static

- μΌλ°μ μΌλ΅ Class λ” Static μμ—­μ— μƒμ„±λκ³ , new μ—°μ‚°μ„ ν†µν•΄ μƒμ„±ν• κ°μ²΄λ” Heap μμ—­μ— μƒμ„±λλ‹¤.
- κ°μ²΄μ μƒμ„±μ‹μ— ν• λ‹Ήλ Heap μμ—­μ λ©”λ¨λ¦¬λ” Garbage Collectorλ¥Ό ν†µν•΄ μμ‹λ΅ κ΄€λ¦¬λ¥Ό λ°›λ”λ‹¤.
- ν•μ§€λ§ Static ν‚¤μ›λ“λ¥Ό ν†µν•΄ static μμ—­μ— ν• λ‹Ήλ λ©”λ¨λ¦¬λ” λ¨λ“  κ°μ²΄κ°€ κ³µμ ν•λ” λ©”λ¨λ¦¬λΌλ” μ¥μ μ„ μ§€λ‹μ§€λ§ λ©”λ¨λ¦¬μ— ν• λ² ν• λ‹Ήλμ–΄ ν”„λ΅κ·Έλ¨μ΄ μΆ…λ£λ  λ•κΉμ§€ λ©”λ¨λ¦¬κ°€ ν• λ‹Ήλ μ±„λ΅ μ΅΄μ¬ν•λ―€λ΅ μμ£Ό μ‚¬μ©ν•λ©΄ μ‹μ¤ν… νΌν¬λ¨Όμ¤μ— μ•…μν–¥μ„ μ£Όκ² λλ‹¤.

### Static λ³€μ

- Static λ³€μλ” ν΄λμ¤ λ³€μλ¥Ό μλ―Έν•κ³  κ°μ²΄λ¥Ό μƒμ„±ν•μ§€ μ•μ•„λ„ static λ©”μ„λ“, static λ³€μλ” μ΄λ―Έ static λ©”λ¨λ¦¬ μμ—­μ— μ΅΄μ¬ν•λ―€λ΅ μ΄λ―Έ ν• λ‹Ήμ΄ λμ–΄μμ–΄ κ°μ²΄μƒμ„±μ—†μ΄ λ°”λ΅ μ ‘κ·Όν•  μ μλ‹¤.
- μΌλ°μ μΌλ΅ staticμ€ μƒμμ κ°’μ„ κ°–λ” κ²½μ°κ°€ λ§μ•„ publicμΌλ΅ μ„ μ–Έν•κ³  public λ° finalκ³Ό ν•¨κ» μ‚¬μ©λμ–΄ public static finalλ΅ ν™μ©μ΄λλ‹¤.

### Lombok

- μ–΄λ…Έν…μ΄μ…μ„ κΈ°λ°μΌλ΅ μ½”λ“λ¥Ό μλ™μ™„μ„±ν•΄μ£Όλ” λΌμ΄λΈλ¬λ¦¬λ΅ Getter, Setter, Equlas, ToString λ“±κ³Ό λ‹¤μ–‘ν• λ°©λ©΄μ μ½”λ“λ¥Ό μλ™μ™„μ„± μ‹ν‚¬ μ μλ‹¤.

```groovy
@Getter
@Setter
public class Store extends Common {

    private String companyName;                                 
    private String industryTypeCode;    
```

`@AllArgsConstructor` 

- λ¨λ“  λ³€μλ¥Ό μ‚¬μ©ν•λ” μƒμ„±μλ¥Ό μλ™μ™„μ„± μ‹μΌμ£Όλ” μ–΄λ…Έν…μ΄μ…

`@NoArgsConstructor`

- μ–΄λ– ν• λ³€μλ„ μ‚¬μ©ν•μ§€ μ•λ” κΈ°λ³Έ μƒμ„±μλ¥Ό μλ™μ™„μ„± μ‹μΌμ£Όλ” μ–΄λ…Έν…μ΄μ…

`@RequiredArgsConstructor`

- νΉμ • λ³€μλ§μ„ ν™μ©ν•λ” μƒμ„±μλ¥Ό μλ™μ™„μ…© μ‹μΌμ£Όλ” μ–΄λ…Έν…μ΄μ….
- μƒμ„±μμ μΈμλ΅ μ¶”κ°€ν•  λ³€μμ— @NonNull μ–΄λ…Έν…μ΄μ…μ„ λ¶™μ—¬μ„ ν•΄λ‹Ή λ³€μλ¥Ό μƒμ„±μμ μΈμλ΅ μ¶”κ°€ν•  μ μλ‹¤. μ•„λ‹λ©΄ ν•΄λ‹Ή λ³€μλ¥Ό finalλ΅ μ„ μ–Έν•΄λ„ μμ΅΄μ„± μ£Όμ…μ„ λ°›μ„ μ μλ‹¤.


κΈ°μ΅΄ μ½”λ“μ λ¬Έμ μ  `OrderServiceImpl`μ΄ μ¶”μƒν™”μΈ `DiscountPolicy` μ™€ κµ¬ν„μ²΄μΈ `RateDiscountPolicy` λ‘ λ‹¤ μμ΅΄ν•κ³  μμ–΄μ„ DIPλ¥Ό μ„λ°ν• μ½”λ“μ΄λ‹¤. OCPλ„ μ„λ°

β†’ κµ¬μ²΄ ν΄λμ¤λ¥Ό λ³€κ²½ν•  λ• ν΄λΌμ΄μ–ΈνΈ μ½”λ“λ„ ν•¨κ² λ³€κ²½ν•΄μ•Όν•λ‹¤. λ”°λΌμ„ μ¶”μƒμ—λ§ μμ΅΄ν•λ„λ΅ λ³€κ²½ν•΄μ•Όν•λ‹¤.

```groovy
public class OrderServiceImpl implements OrderService{

       private final MemberRepository memberRepository = new MemoryMemberRepository();
//       private final DiscountPolicy discountPolicy = new FixDiscountPolicy();
       private final DiscountPolicy discountPolicy = new RateDiscountPolicy();
```

μ„ λ¬Έμ λ¥Ό ν•΄κ²°ν•λ ¤λ©΄ λ„κ°€ ν΄λΌμ΄μ–ΈνΈμΈ `OrderServiceImpl`μ— `DiscountPolicy`μ κµ¬ν„ κ°μ²΄λ¥Ό λ€μ‹  μƒμ„±ν•κ³  μ£Όμ…ν•΄μ£Όμ–΄μ•Όν•λ‹¤. 

β‡’ Appconfig λ“±μ¥ ( μƒμ„±μ μ£Όμ… )

Appconfig

```groovy
public class AppConfig {

    public MemberService memberService{
        return new MemberServiceImpl(new MemoryMemberRepository());
    }

    public OrderService orderService(){
        return new OrderServiceImpl(new MemoryMemberRepository(), new FixDiscountPolicy());
    }
}
```

- Appconfigλ” μ• ν”λ¦¬μΌ€μ΄μ…μ μ‹¤μ  λ™μ‘μ— ν•„μ”ν• κµ¬ν„ κ°μ²΄λ¥Ό μƒμ„±ν•λ‹¤.
- μƒμ„±ν• κ°μ²΄ μΈμ¤ν„΄μ¤μ μ°Έμ΅°λ¥Ό μƒμ„±μλ¥Ό ν†µν•΄ μ£Όμ…ν•΄μ¤€λ‹¤. (DI, Dependency Injection)

## π±μ¤λμ νκ³ 
- μ¤λ μ €λ… ν€ν” νμκ°€ λλ‚κ³  κΈ°μ ν•΄μ„ 12μ‹μ— μΌμ–΄λ‚λ” λ€μ°Έμ‚¬κ°€ λ°μƒν–λ‹¤. μ μ£Όλ„ κ°€μ§€μ „μ— spring κΈ°λ³ΈνΈμ€ μΌλ‹¨ λλ‚΄κ³  κ°€κ³  μ‹¶λ‹¤.

### Reference
- https://mangkyu.tistory.com/78